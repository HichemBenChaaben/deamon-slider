/*! deamon slider deamonSlider build - v0.0.0 - created on 2013-10-16 */
!function($,a,b){"use strict";function c(a,b){this.element=a,this.options=$.extend({},e,b),this._defaults=e,this._name=d,this.init()}var d="deamonSlider",e={staticPath:"deamonSlider/gallery",thumbsClass:"ds-isthumb",thumbsClassHeight:50,thumbsClassWidth:90,transitionTime:400,imagesCollection:{},thumbCollection:{},dsSlideClass:"ds-slide",hightlightedClassName:"hightlighted",useThumbnails:!0};c.prototype={init:function(){this.options.transitionTime,this.options.dsSlideClass,this.options.hightlightedClassName,this.getAllThumbs(this.options.staticPath,this.options.thumbCollection,this.options.thumbsClass),this.getAllImages(this.options.staticPath,this.options.imagesCollection),this.animateSlide(this.options.transitionTime,this.options.imagesCollection.length),this.fullScreenHandler($("#ds-caption")),this.autoScroll()},autoScroll:function(){console.log("autoscroll is invo"),$(".ds-thumb-nav").hover(function(){$("#ds-isthumb").animate({scrollLeft:"+=10px"},200,$.easing.easeInOut)})},getAllImages:function(a,b){var c=a+"/",d=$("#ds-main"),e=0;$.each(b,function(a,b){var f=$("<span/>").addClass("ds-slide");f.append($("<img/>").attr({src:c+b})),d.append(f),e++}),$(".ds-slide").each(function(a){$(this).css({left:$("#ds-main").width()*a,height:"auto"})}),this.updateCount(e)},updateCount:function(a){return self.imageCount=a,self.activeIndex=0},preloadAllThumbs:function(a,b){var c=[],d=0,e="deamonSlider/js/lib/preloadjs-0.4.0.min.js";$.getScript(e,function(){for(;d--;)c.push(a+"/"+b[d]),console.log("The manifest value is"+mainfest[d]);var e=new createjs.LoadQueue(!0,""),f=$("#mainProgress"),g=f.find(".progress");g.width(0),e.addEventListener("progress",function(){console.log("Updating preloading progress..."+Math.round(100*e.progress)+"%"),g.width(e.progress*f.width())}),e.addEventListener("complete",function(){console.log("ASSETS PRELOADED...")}),e.setMaxConnections(5),e.loadManifest(c)})},getAllThumbs:function(a,b,c){var d=a+"/";this.preloadAllThumbs(a,b),$.each(b,function(a,b){var e=$("<img/>").attr({src:d+"/"+b}),f=$('<span class="ds-thumbDimentions"/>');$('[class="'+c+'"]').append(f),$(f).append(e)}),$(".ds-thumbDimentions").eq(0).addClass("hightlighted").find("img").fadeTo(.2)},animateSlide:function(){var a=this,c=$(".ds-slide").width(),d=$(".ds-thumbDimentions"),e=$("#ds-left"),f=$("#ds-right"),g=$(".hightlighted").index();d.mouseup(function(){var b=$(this).index(),d=b-g,e=d*c;return e>0?a.animateRight(e,a.slideDuration,b):a.animateLeft(-e,a.slideDuration,b)}),$("#ds-main").find("span").find("img").mouseup(function(){var b=$(".hightlighted").index()+1;a.animateRight(c,a.slideDuration,b)}),e.mouseup(function(){var b=$(".hightlighted").index()-1;a.animateLeft(c,a.slideDuration,b)}),f.mouseup(function(){var b=$(".hightlighted").index()+1;a.animateRight(c,a.slideDuration,b)}),$(b).keyup(function(b){var d=b.keyCode,e=$(".hightlighted").index();return 39===d?(e+=1,a.animateRight(c,a.slideDuration,e)):37===d?(e-=1,a.animateLeft(c,a.slideDuration,e)):!1})},animateLeft:function(a,b,c){return this.updateSlideIndex(c),self.activeIndex>=0?this.Animate("-=",-a,b):(this.endOfAnimation("left"),void 0)},animateRight:function(a,b,c){return this.updateSlideIndex(c),self.activeIndex>=0&&self.activeIndex<self.imageCount?this.Animate("-=",a,b):(this.endOfAnimation("right",a,b),void 0)},Animate:function(b,c,d){var e=$(".ds-slide"),f=b+c;a.setTimeout(function(){e.animate({left:f+"px"},d,"easeInOutExpo")},d+5)},endOfAnimation:function(){console.log("end of animation")},updateSlideIndex:function(a){var b=self.imageCount,c=$(".hightlighted"),d="hightlighted";a>=0&&b>a?(c.removeClass(d),$(".ds-thumbDimentions").eq(a).addClass("hightlighted"),self.activeIndex=c.index()):self.activeIndex=-1},fullScreenHandler:function(a){a.mouseup(function(){if(!$("#slider").fullScreen())throw"Full screen dependency missing"})}},$.fn[d]=function(a){return this.each(function(){$.data(this,"plugin_"+d)||$.data(this,"plugin_"+d,new c(this,a))})}}(jQuery,window,document);